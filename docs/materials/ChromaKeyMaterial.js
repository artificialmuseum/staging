import{S as e,_ as a,a3 as o,az as t,D as r,L as n}from"../vendor.js";class i extends e{constructor(e,i){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{range:u=.5,mult:l=7,chromaKey:m=54322,chromaKeyDepthTest:s=!0}=e;super(a(a({side:r},v),{},{transparent:!0,uniforms:{uTex:{type:"t",value:i},uChromaKey:{type:"c",value:new o(m)},uRange:{type:"f",value:t(u)},uAlphaMult:{type:"f",value:t(l)}},vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;void main(){vUv=uv;vec4 mvPosition=modelViewMatrix*vec4(position,1.0);gl_Position=projectionMatrix*mvPosition;}",fragmentShader:"#define GLSLIFY 1\nuniform sampler2D uTex;uniform vec3 uChromaKey;uniform float uAlphaMult;uniform float uRange;varying vec2 vUv;void main(){vec3 tColor=texture2D(uTex,vUv).rgb;float a=(length(tColor-uChromaKey)-uRange)*uAlphaMult;gl_FragColor=vec4(tColor,a);}",depthTest:s})),i.minFilter=n,i.magFilter=n}}export{i as ChromaKeyMaterial};
