import{_ as t,W as o,s as r,$ as a,a as i,w as n,T as e}from"./vendor.js";import{Preload as c}from"./Preload.js";var l=function(){var l=t((function*(l){var{artifact:s,file:f}=l;o.SUPPORTS=yield r();var{XR:d}=o.SUPPORTS,u=a("#show-artifact"),w=window.location.origin+window.location.pathname;if(!s){o.SUPPORTS.WEBP=!1,o.SUPPORTS.WEBM=!1;var{default:P}=yield import("".concat(w,"/").concat(f));s=i(i({},P),{},{city:""})}a.on(u,"click",(o=>{var{artifact:r,root:i}=o;return t((function*(){var t=new c({artifact:r,root:i,THREE:e}),o=a("#show-artifact");o.disabled=!0;try{t._isWorking||(yield t.init(),o.disabled=!1)}catch(o){o.toString().toLowerCase().includes("error creating webgl context")?t.showWebglDisabledNotification():console.error("onButtonClick: preload.init failed",o)}}))})({artifact:s,root:w,XR:d})),n&&a("a").forEach((t=>{t.removeAttribute("target")}))}));return function(t){return l.apply(this,arguments)}}();export{l as sandbox};
