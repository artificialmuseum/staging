import{c as t,W as a,s as r,$ as i,_ as o,w as n,T as e}from"./vendor.js";import{Preload as c}from"./Preload.js";var l=function(){var l=t((function*(l){var{artifact:f,file:s}=l;a.SUPPORTS=yield r();var{XR:d}=a.SUPPORTS,R=i("#show-artifact"),p=window.location.origin+window.location.pathname;if(!f){a.SUPPORTS.WEBP=!1,a.SUPPORTS.WEBM=!1;var{default:u}=yield import("".concat(p,"/").concat(s));f=o(o({},u),{},{city:""})}i.on(R,"click",(a=>{var{artifact:r,map:o,root:n,XR:l=!1}=a;return t((function*(){var t=new c({artifact:r,root:n,THREE:e}),a=i("#show-artifact");a.disabled=!0;try{t._isWorking||(yield t.init({artifact:r,map:o,THREE:e,XR:l}),yield t.startEngine({artifact:r,map:o,THREE:e,XR:l}),a.disabled=!1)}catch(a){a.toString().toLowerCase().includes("error creating webgl context")?t.showWebglDisabledNotification():console.error("onButtonClick: preload.init failed",a)}}))})({artifact:f,root:p,XR:d})),n&&i("a").forEach((t=>{t.removeAttribute("target")}))}));return function(t){return l.apply(this,arguments)}}();export{l as sandbox};
